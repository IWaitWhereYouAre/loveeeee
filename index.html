<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.7">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="en"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta charset="UTF-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;title&gt;Heart to Heart | ISA Chulalongkorn&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"&gt;&lt;/script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&amp;family=Lato:wght@300;400&amp;family=Pinyon+Script&amp;display=swap');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>:root {<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>--gold: #c5a059;</p>
<p class="p1"><span class="Apple-converted-space">            </span>--deep-green: #1a2a1d;</p>
<p class="p1"><span class="Apple-converted-space">            </span>--cream: #f8f5f0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>--blush: #e8d5d1;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>body {<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: var(--cream);<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>color: var(--deep-green);</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-family: 'Lato', sans-serif;<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>margin: 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>justify-content: center;<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>min-height: 100vh;<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>transition: background-color 2s ease;</p>
<p class="p1"><span class="Apple-converted-space">            </span>overflow: hidden;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-image: url("https://www.transparenttextures.com/patterns/natural-paper.png");</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.vignette { position: fixed; inset: 0; background: radial-gradient(circle, transparent 50%, rgba(26, 42, 29, 0.1)); pointer-events: none; z-index: 5; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.botanical { position: fixed; width: 450px; opacity: 0.15; pointer-events: none; z-index: 0; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.top-left { top: -120px; left: -120px; transform: rotate(15deg); }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.bottom-right { bottom: -120px; right: -120px; transform: rotate(195deg); }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>#app-container { text-align: center; max-width: 1000px; width: 100%; z-index: 10; padding: 20px; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.isa-tag { font-size: 0.65rem; letter-spacing: 5px; text-transform: uppercase; margin-bottom: 10px; opacity: 0.7; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>h1.main-title { font-family: 'Pinyon Script', cursive; font-size: 5rem; color: var(--gold); margin: 0; line-height: 1; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.sub-theme { font-family: 'Playfair Display', serif; font-size: 1rem; letter-spacing: 10px; text-transform: uppercase; margin-bottom: 50px; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.deck-area { position: relative; height: 400px; width: 100%; display: flex; justify-content: center; align-items: center; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.card {</p>
<p class="p1"><span class="Apple-converted-space">            </span>position: absolute; width: 180px; height: 260px; background: #fff;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 2px; box-shadow: 0 15px 35px rgba(0,0,0,0.1);</p>
<p class="p1"><span class="Apple-converted-space">            </span>cursor: pointer; transition: all 0.8s cubic-bezier(0.2, 1, 0.3, 1); overflow: hidden;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.card::after {</p>
<p class="p1"><span class="Apple-converted-space">            </span>content: ''; position: absolute; inset: 10px; border: 1px solid var(--gold);</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: var(--deep-green); background-image: url("https://www.transparenttextures.com/patterns/dark-matter.png");</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.card-crest { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: var(--gold); font-family: 'Playfair Display', serif; font-size: 2rem; z-index: 2; opacity: 0.6; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>#result-screen { display: none; opacity: 0; transition: opacity 1s ease; }</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>#capture-frame {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background: #fff;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 60px 40px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 380px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin: 0 auto;</p>
<p class="p1"><span class="Apple-converted-space">            </span>position: relative;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 1px solid rgba(197, 160, 89, 0.2);</p>
<p class="p1"><span class="Apple-converted-space">            </span>box-shadow: 0 30px 60px rgba(0,0,0,0.05);</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-image: url("https://www.transparenttextures.com/patterns/paper-fibers.png");</p>
<p class="p1"><span class="Apple-converted-space">            </span>overflow: hidden; /* Ensures garden growth stays inside */</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>#capture-frame::before {</p>
<p class="p1"><span class="Apple-converted-space">            </span>content: ""; position: absolute; inset: 15px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 0.5px solid var(--gold); pointer-events: none; z-index: 2;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Container for the unique random botanical growth */</p>
<p class="p1"><span class="Apple-converted-space">        </span>#garden-growth-container {</p>
<p class="p1"><span class="Apple-converted-space">            </span>position: absolute;</p>
<p class="p1"><span class="Apple-converted-space">            </span>inset: 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>pointer-events: none;</p>
<p class="p1"><span class="Apple-converted-space">            </span>z-index: 1;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.content-wrap { position: relative; z-index: 3; } /* Keeps text above flowers */</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.result-isa { font-size: 0.55rem; letter-spacing: 4px; text-transform: uppercase; color: var(--gold); display: block; margin-bottom: 20px; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.result-theme { font-family: 'Pinyon Script', cursive; font-size: 2.8rem; color: var(--deep-green); margin: 0; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.quote-box { font-family: 'Playfair Display', serif; font-size: 1.8rem; line-height: 1.4; margin: 40px 0; font-style: italic; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.quote-author { font-family: 'Lato', sans-serif; font-size: 0.7rem; letter-spacing: 3px; text-transform: uppercase; opacity: 0.6; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.recommendation { display: flex; justify-content: space-between; margin-top: 40px; padding-top: 30px; border-top: 0.5px solid rgba(0,0,0,0.1); text-align: left; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.rec-label { font-size: 0.5rem; letter-spacing: 2px; text-transform: uppercase; color: var(--gold); display: block; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.rec-val { font-family: 'Playfair Display', serif; font-size: 0.9rem; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.seed-tag { font-size: 0.4rem; opacity: 0.3; margin-top: 20px; letter-spacing: 1px; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.btn-group { margin-top: 40px; display: flex; justify-content: center; gap: 15px; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.btn {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background: none; border: 1px solid var(--gold); padding: 12px 25px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-family: 'Lato', sans-serif; text-transform: uppercase; letter-spacing: 2px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 0.7rem; cursor: pointer; transition: 0.3s;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.btn-save { background: var(--gold); color: white; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.btn-save:hover { background: var(--deep-green); border-color: var(--deep-green); }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>@media (max-width: 450px) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>#capture-frame { width: 85vw; padding: 40px 20px; }</p>
<p class="p1"><span class="Apple-converted-space">            </span>h1.main-title { font-size: 3.5rem; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="vignette"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;img src="https://www.transparenttextures.com/patterns/flowers.png" class="botanical top-left"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;img src="https://www.transparenttextures.com/patterns/flowers.png" class="botanical bottom-right"&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div id="app-container"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div id="ritual-screen"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p class="isa-tag"&gt;ISA Chulalongkorn Presents&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;h1 class="main-title"&gt;Heart to Heart&lt;/h1&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p class="sub-theme"&gt;The Secret Garden&lt;/p&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="deck-area" id="deck-container"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p id="status-text" style="margin-top: 40px; font-size: 0.7rem; letter-spacing: 3px; text-transform: uppercase;"&gt;Tap the deck to begin&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div id="result-screen"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="capture-frame"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="garden-growth-container"&gt;&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="content-wrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;span class="result-isa"&gt;ISA Chulalongkorn&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h2 class="result-theme"&gt;Heart to Heart&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="quote-box" id="quote-text"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="quote-author" id="quote-source"&gt;&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="recommendation"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="rec-label"&gt;Cinematic&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="rec-val" id="movie-title"&gt;&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="rec-label"&gt;Literary&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;span class="rec-val" id="book-title"&gt;&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="seed-tag" id="seed-display"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="btn-group"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="btn" onclick="location.reload()"&gt;Reset&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button class="btn btn-save" onclick="saveImage()"&gt;Save Picture&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p style="font-size: 0.6rem; margin-top: 20px; opacity: 0.5; letter-spacing: 1px;"&gt;Saved to your library&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>const colorPalette = [</p>
<p class="p1"><span class="Apple-converted-space">                </span>{ name: "Ivory Silk", hex: "#fffdf0", quote: "To love at all is to be vulnerable.", source: "C.S. Lewis", movie: "Shadowlands", book: "The Four Loves" },<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>{ name: "Vintage Champagne", hex: "#f5ead0", quote: "Love is not blind; it sees more, not less.", source: "Erich Fromm", movie: "In the Mood for Love", book: "A Lover's Discourse" },<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>{ name: "Tudor Rose", hex: "#fce3e3", quote: "Everything that frightens us is something helpless that wants our love.", source: "Rainer Maria Rilke", movie: "The Shape of Water", book: "Letters to a Young Poet" },<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>{ name: "English Lavender", hex: "#e8e1f5", quote: "It is not necessary to hurry intimacy.", source: "Anne Carson", movie: "Before Sunset", book: "Eros the Bittersweet" },<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>{ name: "Versailles Sage", hex: "#e2ede4", quote: "The world is full of magic things, patiently waiting for our senses to grow sharper.", source: "W.B. Yeats", movie: "Song of the Sea", book: "The Wind Among the Reeds" },<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>{ name: "Gilded Moss", hex: "#ecebbd", quote: "The only way to make sense out of change is to plunge into it.", source: "Alan Watts", movie: "Spring, Summer, Fall...", book: "The Wisdom of Insecurity" },<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>{ name: "Biedermeier Blue", hex: "#e0f0f5", quote: "Loneliness is the poverty of self; solitude is the richness of self.", source: "May Sarton", movie: "Lost in Translation", book: "Journal of a Solitude" },<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>{ name: "Old Manor Taupe", hex: "#ede6e1", quote: "Acceptance is a small, quiet room.", source: "Cheryl Strayed", movie: "Nomadland", book: "Tiny Beautiful Things" },<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>{ name: "Terracotta Sundial", hex: "#f5e6d3", quote: "Beauty is in things imperfect, impermanent, and incomplete.", source: "Leonard Koren", movie: "Arrietty", book: "The Beauty of Ordinary" },<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>{ name: "Slate Manor", hex: "#e1e6e8", quote: "Love is the extremely difficult realization that something other than oneself is real.", source: "Iris Murdoch", movie: "Eternal Sunshine", book: "The Sovereignty of Good" },<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>{ name: "Linen Prayer", hex: "#fcfaf7", quote: "Love is a relationship between a person and love itself.", source: "Søren Kierkegaard", movie: "Still Walking", book: "Works of Love" },<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>{ name: "Ash Rose", hex: "#e6dede", quote: "Grief is the final manifestation of love.", source: "Joan Didion", movie: "Aftersun", book: "Blue Nights" }</p>
<p class="p1"><span class="Apple-converted-space">        </span>];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const deck = document.getElementById('deck-container');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const status = document.getElementById('status-text');</p>
<p class="p1"><span class="Apple-converted-space">        </span>let shuffleState = 0;<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function createDeck() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>for(let i=0; i&lt;12; i++) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const card = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                </span>card.className = 'card';</p>
<p class="p1"><span class="Apple-converted-space">                </span>card.style.zIndex = i;</p>
<p class="p1"><span class="Apple-converted-space">                </span>card.innerHTML = '&lt;div class="card-crest"&gt;❦&lt;/div&gt;';</p>
<p class="p1"><span class="Apple-converted-space">                </span>card.style.transform = `translate(${i*0.5}px, ${i*0.5}px)`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>card.onclick = () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (shuffleState &lt; 3) runShuffle();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>else if (shuffleState === 4) revealCard();</p>
<p class="p1"><span class="Apple-converted-space">                </span>};</p>
<p class="p1"><span class="Apple-converted-space">                </span>deck.appendChild(card);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function runShuffle() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>shuffleState++;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const cards = document.querySelectorAll('.card');</p>
<p class="p1"><span class="Apple-converted-space">            </span>cards.forEach((card) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const rx = (Math.random() - 0.5) * 400;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const ry = (Math.random() - 0.5) * 400;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const rr = (Math.random() - 0.5) * 100;</p>
<p class="p1"><span class="Apple-converted-space">                </span>card.style.transform = `translate(${rx}px, ${ry}px) rotate(${rr}deg)`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>status.innerText = `Shuffling Intentions... (${shuffleState}/3)`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>cards.forEach((card, i) =&gt; card.style.transform = `translate(${i*0.3}px, ${i*0.3}px) rotate(0deg)`);</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (shuffleState === 3) setTimeout(fanCards, 600);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}, 800);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function fanCards() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const cards = document.querySelectorAll('.card');</p>
<p class="p1"><span class="Apple-converted-space">            </span>shuffleState = 4;</p>
<p class="p1"><span class="Apple-converted-space">            </span>status.innerText = "Draw your heart's secret";</p>
<p class="p1"><span class="Apple-converted-space">            </span>cards.forEach((card, i) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const angle = (i - 5.5) * 8;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const x = (i - 5.5) * 40;</p>
<p class="p1"><span class="Apple-converted-space">                </span>card.style.transform = `translate(${x}px, 20px) rotate(${angle}deg)`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function generateGardenGrowth() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const container = document.getElementById('garden-growth-container');</p>
<p class="p1"><span class="Apple-converted-space">            </span>container.innerHTML = '';<span class="Apple-converted-space"> </span></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>const seed = Date.now();</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('seed-display').innerText = `Bloom Ref: #${seed}`;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>const random = (i) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const x = Math.sin(seed + i) * 10000;</p>
<p class="p1"><span class="Apple-converted-space">                </span>return x - Math.floor(x);</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const flowerImages = [</p>
<p class="p1"><span class="Apple-converted-space">                </span>"https://www.transparenttextures.com/patterns/flowers.png",</p>
<p class="p1"><span class="Apple-converted-space">                </span>"https://www.transparenttextures.com/patterns/natural-paper.png"</p>
<p class="p1"><span class="Apple-converted-space">            </span>];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>for (let i = 0; i &lt; 8; i++) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const img = document.createElement('img');</p>
<p class="p1"><span class="Apple-converted-space">                </span>img.src = flowerImages[Math.floor(random(i) * flowerImages.length)];</p>
<p class="p1"><span class="Apple-converted-space">                </span>img.style.position = 'absolute';</p>
<p class="p1"><span class="Apple-converted-space">                </span>img.style.width = (200 + random(i+1) * 250) + 'px';</p>
<p class="p1"><span class="Apple-converted-space">                </span>img.style.left = (random(i+2) * 120 - 20) + '%';</p>
<p class="p1"><span class="Apple-converted-space">                </span>img.style.top = (random(i+3) * 120 - 20) + '%';</p>
<p class="p1"><span class="Apple-converted-space">                </span>img.style.transform = `rotate(${random(i+4) * 360}deg)`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>img.style.opacity = (0.05 + random(i+5) * 0.1).toString();</p>
<p class="p1"><span class="Apple-converted-space">                </span>img.style.filter = 'sepia(1) saturate(0.3) contrast(0.8)';<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>container.appendChild(img);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function revealCard() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const data = colorPalette[Math.floor(Math.random() * colorPalette.length)];</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// --- GENERATE THE UNIQUE GARDEN ---</p>
<p class="p1"><span class="Apple-converted-space">            </span>generateGardenGrowth();<span class="Apple-converted-space"> </span></p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('ritual-screen').style.opacity = '0';</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.body.style.backgroundColor = data.hex;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>setTimeout(() =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('ritual-screen').style.display = 'none';</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('result-screen').style.display = 'block';</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('quote-text').innerText = data.quote;</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('quote-source').innerText = `— ${data.source}`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('movie-title').innerText = data.movie;</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('book-title').innerText = data.book;</p>
<p class="p1"><span class="Apple-converted-space">                </span>setTimeout(() =&gt; { document.getElementById('result-screen').style.opacity = '1'; }, 100);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}, 1000);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function saveImage() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const captureArea = document.getElementById('capture-frame');</p>
<p class="p1"><span class="Apple-converted-space">            </span>html2canvas(captureArea, {</p>
<p class="p1"><span class="Apple-converted-space">                </span>backgroundColor: "#ffffff",</p>
<p class="p1"><span class="Apple-converted-space">                </span>scale: 3,</p>
<p class="p1"><span class="Apple-converted-space">                </span>useCORS: true</p>
<p class="p1"><span class="Apple-converted-space">            </span>}).then(canvas =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const link = document.createElement('a');</p>
<p class="p1"><span class="Apple-converted-space">                </span>link.download = `HeartToHeart_${Date.now()}.png`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>link.href = canvas.toDataURL("image/png");</p>
<p class="p1"><span class="Apple-converted-space">                </span>link.click();</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>createDeck();</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/script&gt;</p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
